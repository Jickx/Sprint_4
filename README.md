# Тестирование BooksCollector
# Проект 4 спринт

В этом проекте используется **pytest** для автоматизированного тестирования класса `BooksCollector`.  

## Структура тестов

├── conftest.py \# Фикстуры для подготовки данных  
└── test_books_collector.py \# Основные тесты

### conftest.py

Содержит фикстуры для упрощения тестов:

- `collector` — создаёт новый экземпляр `BooksCollector` перед каждым тестом.  
- `add_one_book` — добавляет одну книгу без жанра.  
- `add_one_book_with_genre` — добавляет одну книгу с указанным жанром.  
- `add_multiple_books` — добавляет сразу несколько книг с жанрами.  

Фикстуры используются с `@pytest.mark.parametrize` для передачи разных данных.

### test_books_collector.py

Тесты покрывают все ключевые методы класса:

#### Добавление книг

- Проверка корректной длины имени (1–40 символов)  
- Проверка добавления уникальных книг  
- Проверка пустого жанра для новых книг

#### Установка и получение жанра

- Установка корректного жанра  
- Попытка установить несуществующий жанр  
- Получение жанра по имени книги

#### Работа с коллекцией

- Получение всех книг для детей (без «взрослых» жанров)  
- Получение списка книг по жанру  
- Проверка корректного словаря книг

#### Избранное

- Добавление книги в избранное  
- Проверка отсутствия дубликатов в избранном  
- Удаление книги из избранного  
- Получение полного списка избранного

## Запуск тестов

```bash
pytest -v # подробный вывод с информацией о каждом тесте.
pytest --cov=books_collector --cov-report=html  # запуск тестов с генерацией отчёта покрытия кода в формате HTML

